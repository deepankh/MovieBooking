<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Ticket Booking</title>
  <link rel="stylesheet" href="stylesheets/style.css">
  <link rel="stylesheet" href="stylesheets/modalStyling.css">
  <script type="text/javascript" src="/static/jquery-3.3.1.min.js"></script>

</head>

<body>
  <button id="modalBtn" class="button">Click here!</button>
  <div id="simpleModal" class="modal">
      <div class="modal-content">
          <div class="modal-header">
              <span class="closeBtn">&times;</span>
              <h3>Ticket Booking</h3>
          </div>
          <div class="modal-body" id='modalBody'>
              <div id="loginform" class="row">

                  <div class="col col-md">

                      <form method="post" action="#" name="myForm" id="TicketBookingForm" onsubmit="return false">
                          <div id="movie-selector" class="row">

                              <div class="col col-sm">
                                  <select id="movie-id" class="option-box" name="movie-id" onchange="diplayImage()" required>
                                      <option value="" selected disabled hidden>Movie Name </option>
                                      {%for i,j in shows.items %}
                                      <option value="{{i}}">{{i}}</option>
                                      {%endfor%}
                                  </select>
                              </div>
                          </div>
                          <div class="row">


                              <div class="col col-sm">
                                  <select id="timing-id" class="option-box" name="timing-id" required onchange="populate()">
                                      <option value="" selected disabled hidden>Timing</option>
                                      <option value="evening">Evening</option>
                                      <option value="night">Night</option>
                                  </select>
                              </div>
                          </div>
                          <div class="row">


                              <div class="col col-sm">
                                  <select id="number-id" class="option-box" name="number-id" required>
                                      <option value="" selected disabled hidden>Quantity</option>
                                      <option value="1">1</option>
                                      <option value="2">2</option>
                                      <option value="3">3</option>
                                      <option value="4">4</option>
                                      <option value="5">5</option>
                                      <option value="6">6</option>
                                  </select>
                              </div>

                          </div>

                          <div class="row">
                              <div class="col col-sm">

                              </div>
                              <div class="col col-sm">
                                  <input type="submit" value="submit" id='submitBtn'>
                              </div>
                          </div>
                      </form>
                  </div>
                  <div class="col col-sm " id='movieImage' style="float: right;">
                      <img src="" alt="" id='imageToBeDisplayed' width="50" height="60">
                  </div>
              </div>
          </div>
          <div class="modal-footer">
              <h3>Ticket Booking</h3>
          </div>
      </div>
  </div>






  <div id="secondModal" class="modal">
      <div class="modal-content">
          <div class="modal-header">
              <span class="closeBtn">&times;</span>
              <h3>Ticket Booking</h3>
          </div>
          <div class="modal-body" id='secondModalBody'>

              <div>
                  Movie Name : <span id="selectedMovie"></span>
                  <br>
                  Timing : <span id="selectedTiming"></span>
              <br>
                  Quantity :  <span id="selectedQuantity"></span>
              </div>
              <input type="button" value="Book More Tickets" id="bookMoreTickets">
          </div>
          <div class="modal-footer">
              <h3>Ticket Booking</h3>
          </div>
      </div>
  </div>

  <script type="text/javascript" src="/static/main.js"></script>
  <script type="text/javascript" src="/static/modalStyle.js"></script>

</body>
<!-- <script type="text/javascript">



  function populate() {
    var movie = document.getElementById('movie-id').value;
    var selected_timing = document.getElementById('timing-id').value;
    var tickets = document.getElementById('number-id');
    var show_details = '{{shows}}';
    var temp = show_details.replace(/&#39;/g, "\"");
    var obj = JSON.parse(temp);
    var available = obj[movie.toString()];
    tickets.innerHTML = '';
    if (selected_timing == "evening") {
      var n = 0;
    }
    else if (selected_timing == "night") {
      var n = 1;
    }
    if (available[n] >= 10) {
      var value = 10;
    }
    else {
      var value = available[n];
    }
    for (var opt = 1; opt <= value; opt++) {
      var pair = [opt, opt];
      var newOption = document.createElement("option");
      newOption.value = pair[0];
      newOption.innerHTML = pair[1];
      tickets.options.add(newOption);
    }
  }







  function diplayImage() {

    var movie_id = document.getElementById('movie-id').value;
    document.getElementById('imageToBeDisplayed').src = "/stylesheets/" + movie_id + ".jpg";

  }
</script> -->

</html>